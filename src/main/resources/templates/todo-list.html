<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My Todos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
	<!-- todo-list.html -->

	<div class="container mt-4">
	  <h2>Your To-Do List</h2>

	  <!-- Add new todo -->
	  <form th:action="@{/todos}" th:object="${newTodo}" method="post" class="mb-3">
	    <div class="input-group">
	      <input type="text" th:field="*{task}" class="form-control" placeholder="New task..." required>
	      <button class="btn btn-primary" type="submit">Add</button>
	    </div>
	  </form>

	  <!-- Display existing todos -->
	  <ul class="list-group">
	    <li class="list-group-item d-flex justify-content-between align-items-center"
	        th:each="todo : ${todos}">

	      <span th:text="${todo.task}" th:classappend="${todo.completed} ? 'text-decoration-line-through' : ''"></span>

	      <div>
	        <!-- Mark complete -->
	        <form th:action="@{/todos/complete/{id}(id=${todo.id})}" method="post" style="display:inline;">
	          <button class="btn btn-success btn-sm">âœ”</button>
	        </form>

	        <!-- Edit -->
	        <form th:action="@{/todos/edit/{id}(id=${todo.id})}" method="post" style="display:inline;">
	          <input type="text" name="task" th:placeholder="${todo.task}" class="form-control form-control-sm d-inline w-auto"/>
	          <button class="btn btn-warning btn-sm">âœŽ</button>
	        </form>

	        <!-- Delete -->
	        <form th:action="@{/todos/delete/{id}(id=${todo.id})}" method="post" style="display:inline;">
	          <button class="btn btn-danger btn-sm">ðŸ—‘</button>
	        </form>
	      </div>
	    </li>
	  </ul>
	</div>

    <a href="/login" class="btn btn-secondary">Logout</a>
</body>
</html>
